<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="EvdSvc_P02" width="850" height="500" titletext="" onload="EvdSvc_P02_onload">
    <Layouts>
      <Layout height="500" width="850" flexcrossaxisalign="start" flexcrossaxiswrapalign="start" flexmainaxisalign="start" flexwrap="nowrap" tablecellalign="start start" tablecellincompalign="start start" tabledirection="horizontal" type="default">
        <Div id="div" taborder="0" text="Div00" left="0" top="0" width="850" height="500">
          <Layouts>
            <Layout flexcrossaxisalign="start" flexcrossaxiswrapalign="start" flexmainaxisalign="center" tablecellalign="start start" tablecellincompalign="start start" tabledirection="horizontal" flexwrap="nowrap" type="default">
              <Div id="divInfo" taborder="0" text="Div00" left="0" top="0" width="850" height="250">
                <Layouts>
                  <Layout>
                    <Static id="Static00" taborder="0" text="Static00" left="20" top="5" width="810" height="30" cssclass="sta_top_bg02"/>
                    <Static id="StaticEvId" taborder="1" text="&gt; 문서번호" left="20.00" top="5" width="82" height="30" cssclass="sta_cm_box02L"/>
                    <Edit id="EditEvId" taborder="2" left="StaticEvId:5.00" top="10" width="73" height="20" readonly="true"/>
                    <Static id="StaticEvTitle" taborder="3" text="&gt; 문서제목" left="190.00" top="5" width="82" height="30" cssclass="sta_cm_box02L"/>
                    <Edit id="EditEvTitle" taborder="4" left="StaticEvTitle:5.00" top="10" width="543" height="20" readonly="false" displaynulltext="제목을 입력해주세요."/>
                    <Static id="Static00_00" taborder="5" text="Static00" left="20.00" top="36" width="810" height="30" cssclass="sta_top_bg02"/>
                  </Layout>
                </Layouts>
              </Div>
            </Layout>
          </Layouts>
        </Div>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[/**
* @description  : 증빙 관리 > 신규 증빙 자료 등록
* @Date         : 2025.08.22
* @Author		: 김빈현
*/
//기본 include
include "Lib::lib_array.xjs";
include "Lib::lib_base.xjs";
include "Lib::lib_date.xjs";
include "Lib::lib_number.xjs";
include "Lib::lib_string.xjs";
include "Lib::lib_transaction.xjs";

this.EvdSvc_P02_onload = function(obj:nexacro.Form,e:nexacro.LoadEventInfo)
{
	//초기화 함수
	this.fnInit();
};

//페이지 접근 시 초기 세팅
this.fnInit = function()
{
	this.fnTranGetDocId();
};

this.fnTranGetDocId = function()
{
	var strSvcId 	 = "Search";
	var strSvcUrl 	 = "XUP_DEMO::EVD_02";	
	var inData 		 = "";
	var outData 	 = "dsDocId=dsDocId";
	var strArg 		 = "";
	var callBackFunc = "fnCallback";
	var isAsync 	 = true;
	
	this.gfnTransaction(strSvcId,
						strSvcUrl,
						inData,
						outData,
						strArg,
						callBackFunc, 
						isAsync);
};

//트랜잭션 callback
this.fnCallback = function(sId,nErrorCode,sErrorMSG)
{
	if(nErrorCode == 0)
	{
		switch (sId) {
			case "Search":
				var rowPos = this.dsDocId.rowposition;
				var EV_ID = this.dsDocId.getColumn(rowPos, "DOC_ID");
				
				this.div.form.divInfo.form.EditEvId.set_value(EV_ID);
				
				break;
			
			default:
				
				break;
		}
	}
};]]></Script>
    <Objects>
      <Dataset id="dsDocId">
        <ColumnInfo>
          <Column id="DOC_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsCond">
        <ColumnInfo>
          <Column id="EV_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
  </Form>
</FDL>
